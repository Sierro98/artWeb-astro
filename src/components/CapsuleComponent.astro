---
import { Image } from "astro:assets";
import { getXataClient, type DatabaseSchema } from "../xata";

const xata = getXataClient();

const data = await xata.db.capsules.getPaginated({ pagination: { size: 20 } });

//TODO: Finish creating this component
---

<div class="px-5 pb-5 md:px-10 md:pb-10 col-auto">
  {
    data.records.map((record) => {
      return (
        <div class="flex flex-col items-center w-1/4 h-auto rounded-lg shadow-2xl p-4 bg-gray-300 hover:scale-110 transition duration-300 ease-out">
          <Image
            class="object-cover"
            densities={[0.1]}
            src={record.head_image?.url || ""}
            inferSize
            alt={record.name || ""}
          />
          <h2 class="pt-8 azeret-bold text-3xl">{record.name}</h2>
        </div>
      );
    })
  }
</div>
